<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Date Calculator - Table Display</title>
<style>
  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 1em;
  }
  th, td {
    border: 1px solid #999;
    padding: 0.5em 1em;
    text-align: center;
  }
  th {
    background-color: #eee;
  }
  button {
    padding: 0.3em 0.6em;
    cursor: pointer;
  }
</style>
</head>
<body>
  <h2>Date Calculator</h2>
  
  <label for="inputDate">Enter a date:</label>
  <input type="date" id="inputDate" />
  <button onclick="addDate()">Add Date</button>

  <h3>Saved Dates:</h3>
  <div id="savedDates"></div>

<script>
function getDataArray() {
  const arr = localStorage.getItem('dateCalcDataArray');
  if (arr) return JSON.parse(arr);
  return [];
}

function setDataArray(arr) {
  localStorage.setItem('dateCalcDataArray', JSON.stringify(arr));
}

function calculateForDate(inputDateStr) {
  const inputDate = new Date(inputDateStr);
  const date21 = new Date(inputDate);
  date21.setDate(date21.getDate() + 21);
  const date28 = new Date(inputDate);
  date28.setDate(date28.getDate() + 28);

  const today = new Date();
  const daysUntil21 = Math.floor((date21 - today) / (1000 * 60 * 60 * 24));
  const daysUntil28 = Math.floor((date28 - today) / (1000 * 60 * 60 * 24));

  return {
    inputDate: inputDateStr,
    date21: date21.toISOString().substring(0,10),
    daysUntil21,
    date28: date28.toISOString().substring(0,10),
